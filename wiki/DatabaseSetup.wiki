#summary Database setup and installation

= Introduction =

This document provides guidelines for setting up PostgreSQL database for use with rss-toolkit.

= Preparation =

The following software needs to be installed on the server. We further assume Linux or BSD environment.

  * PostgreSQL, version > 8.2, administrator privileges

= Setting up the database = 

The project contains handy SQL scripts that may accelerate further steps. They are located in `deployment/db-schema` folder of the distribution. We provide their names where appropriate so that tons of SQL do not have to be included on this page.

*`001.db-init.sql`*: Create a separate database for use with rss-toolkit, create administrative account (change password of course).

{{{
CREATE DATABASE feeds ENCODING='UTF8';

CREATE USER rssadmin WITH NOCREATEDB;
ALTER DATABASE feeds OWNER TO rssadmin;
ALTER USER rssadmin WITH ENCRYPTED PASSWORD 'CHANGEME';
GRANT ALL PRIVILEGES ON DATABASE feeds TO rssadmin;
}}}

After this step you may want to re-connect to postgres using user's `rssadmin` credentials.
{{{
psql --password -U rssadmin feeds
}}}

Next, from the connected shell, import the following scripts -- they create tables and indices:
{{{
\i [file]
}}}
where `files` are:

  *`002.db-feeds.sql: feeds
  *`003.db-status.sql: indexing status
  *`004.db-articles.sql: content of fetched articles

Check that everything is all right:
{{{
\dt
}}}
This should yield:
{{{
temp=> \dt
              List of relations
 Schema |      Name       | Type  |  Owner
--------+-----------------+-------+----------
 public | articles        | table | rssadmin
 public | feeds           | table | rssadmin
 public | indexing_status | table | rssadmin
(3 rows)
}}}